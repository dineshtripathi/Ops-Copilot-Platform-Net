{
  "Logging": {
    "LogLevel": {
      "Default": "Debug",
      "Microsoft.AspNetCore": "Information",
      "Microsoft.EntityFrameworkCore.Database.Command": "Information",
      "OpsCopilot": "Debug"
    }
  },

  "McpKql": {
    "ServerCommand": "dotnet run --project src/Hosts/OpsCopilot.McpHost/OpsCopilot.McpHost.csproj",
    "TimeoutSeconds": 90
  },

  "Governance": {
    "Defaults": {
      "AllowedTools": [ "kql_query", "runbook_search" ],
      "TriageEnabled": true,
      "TokenBudget": null
    },
    "TenantOverrides": {}
  },

  "SafeActions": {
    "EnableExecution": false,
    "EnableRealHttpProbe": false,
    "EnableAzureReadExecutions": false,
    "HttpProbeTimeoutMs": 5000,
    "HttpProbeMaxResponseBytes": 1024,
    "AzureReadTimeoutMs": 5000,
    "EnableAzureMonitorReadExecutions": false,
    "AzureMonitorQueryTimeoutMs": 5000,
    "AllowedAzureSubscriptionIds": [],
    "AllowedLogAnalyticsWorkspaceIds": [],
    "AllowedExecutionTenants": {},
    "AllowActorHeaderFallback": true,
    "AllowAnonymousActorFallback": true,
    "EnableExecutionThrottling": false,
    "ExecutionThrottleWindowSeconds": 60,
    "ExecutionThrottleMaxAttemptsPerWindow": 5,
    "ActionTypes": [
      { "ActionType": "restart_pod",          "RiskTier": "High",   "Enabled": true },
      { "ActionType": "http_probe",           "RiskTier": "Low",    "Enabled": true },
      { "ActionType": "dry_run",              "RiskTier": "Low",    "Enabled": true },
      { "ActionType": "azure_resource_get",   "RiskTier": "Medium", "Enabled": true },
      { "ActionType": "azure_monitor_query",  "RiskTier": "Medium", "Enabled": true }
    ]
  }
}
